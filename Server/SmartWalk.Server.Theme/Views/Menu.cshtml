@{
    // TODO: Temporary solution for Header and Footer menus
    // The universal code should analyse menu and figure what's the context it's coming from

    if (Model.Classes.Contains("menu-main-menu")) {
        Model.Classes.Add("nav navbar-nav");
    }

    if (Model.Classes.Contains("menu-bottom-menu")) {
        Model.Classes.Add("list-inline");
    }

    var tag = Tag(Model, "ul");

    var items = (IList<dynamic>)Enumerable.Cast<dynamic>(Model.Items);

    if (items.Any()) {
        items[0].Classes.Add("first");
        items[items.Count - 1].Classes.Add("last");
    }    
}
@tag.StartElement
@* see MenuItem shape template *@
@DisplayChildren(Model)
@tag.EndElement
