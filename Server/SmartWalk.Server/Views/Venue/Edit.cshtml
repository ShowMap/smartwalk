@using SmartWalk.Server.ViewModels
@{
    Style.Require("SmartWalk");

    Script.Require("jQueryUI").AtHead();    
    
    var venue = (EntityVm) Model;
    var cancelAction = venue.Id == 0 ? Url.Action("List") : Url.Action("View", new { entityId = @venue.Id });
}
@Html.Partial("EditTemplate", venue)
<script>
    $(function () {
        $("#edit-venue-form").bind(EntityViewModelExtended.VENUE_CANCEL_EVENT, function (event) {
            window.location.href = "@cancelAction";
        });

        $("#edit-venue-form").bind(EntityViewModelExtended.VENUE_SAVE_EVENT, function (event) {
            window.location.href = "/venue/" + event.item.Id();
        });
    });
</script>