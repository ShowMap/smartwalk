ko.bindingHandlers.datepicker={init:function(n,t,i){var u=i().settings||{},r;$(n).data(ko.datetimeUtil.ACCESSOR_NAME,t);r=ko.datetimeUtil.getClassByType(n);r.initDefaultDate(n,u);r.initDate(n,u);$(n).bind("change",r.onChangeDate);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){r.dispose(n,r.onChangeDate)})},update:function(n,t){var i=ko.utils.unwrapObservable(t()),r=ko.datetimeUtil.getClassByType(n);r.updateDate(n,i)}};ko.bindingHandlers.timepicker={init:function(n,t,i){var u=i().settings||{},r;$(n).data(ko.datetimeUtil.ACCESSOR_NAME,t);r=ko.datetimeUtil.getClassByType(n);r.initDefaultDate(n,u);r.initTime(n,u);$(n).bind("change",r.onChangeTime);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){r.dispose(n,r.onChangeTime)})},update:function(n,t){var i=ko.utils.unwrapObservable(t()),r=ko.datetimeUtil.getClassByType(n);r.updateTime(n,i)}};ko.datetimeUtil={};ko.datetimeUtil.ACCESSOR_NAME="datepickerVA";ko.datetimeUtil.DESTROY_REF="datepickerDefDARef";ko.datetimeUtil.getClassByType=function(n){return n.type=="time"||n.type=="date"?ko.HTML5datetime:ko.datetime};ko.datetimeUtil.initDefaultDate=function(n,t,i){if(t.defaultDateAccessor&&ko.isObservable(t.defaultDateAccessor)){i(t.defaultDateAccessor());var r=t.defaultDateAccessor.subscribe(function(n){i(n)});$(n).data(ko.datetimeUtil.DESTROY_REF,r)}};ko.datetimeUtil.dispose=function(n,t,i){$(n).unbind("change",t);$(n).data(ko.datetimeUtil.ACCESSOR_NAME,null);var r=$(n).data(ko.datetimeUtil.DESTROY_REF);r&&r.dispose();i&&i()};ko.datetimeUtil.restoreDate=function(n,t){return!n||!t?n:(n.toDateString()!=t.toDateString()&&(n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes())),n)};ko.datetimeUtil.restoreTime=function(n,t){return!n||!t?n:(n.toTimeString()!=t.toTimeString()&&(n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes())),n)};ko.HTML5datetime={};ko.HTML5datetime.initDefaultDate=function(n,t){ko.datetimeUtil.initDefaultDate(n,t,function(t){$(n).data("defaultDate",t)})};ko.HTML5datetime.initDate=function(){};ko.HTML5datetime.initTime=function(){};ko.HTML5datetime.onChangeDate=function(n){var t=n.target,i=sw.convertToLocal(t.valueAsDate),r=$(t).data(ko.datetimeUtil.ACCESSOR_NAME)();i=ko.datetimeUtil.restoreTime(i,r()||$(t).data("defaultDate"));r(i)};ko.HTML5datetime.onChangeTime=function(n){var t=n.target,i=sw.convertToLocal(t.valueAsDate),r=$(t).data(ko.datetimeUtil.ACCESSOR_NAME)();i=ko.datetimeUtil.restoreDate(i,r()||$(t).data("defaultDate"));r(i)};ko.HTML5datetime.updateDate=function(n,t){$(n).unbind("change",ko.HTML5datetime.onChangeDate);n.valueAsDate=sw.convertToUTC(t);$(n).bind("change",ko.HTML5datetime.onChangeDate)};ko.HTML5datetime.updateTime=function(n,t){$(n).unbind("change",ko.HTML5datetime.onChangeTime);n.valueAsDate=sw.convertToUTC(t);$(n).bind("change",ko.HTML5datetime.onChangeTime)};ko.HTML5datetime.dispose=function(n,t){ko.datetimeUtil.dispose(n,t)};ko.datetime={};ko.datetime.initDefaultDate=function(n,t){ko.datetimeUtil.initDefaultDate(n,t,function(i){$(n).hasClass("hasDatepicker")?$(n).datepicker("option","defaultDate",i):t.defaultDate=i})};ko.datetime.initDate=function(n,t){$(n).datepicker(t)};ko.datetime.initTime=function(n,t){$(n).timepicker(t)};ko.datetime.onChangeDate=function(n){var i=n.target,t=$(i).datepicker("getDate"),r=$(i).data(ko.datetimeUtil.ACCESSOR_NAME)();t=ko.datetimeUtil.restoreTime(t,r());r(t)};ko.datetime.onChangeTime=function(n){var i=n.target,t=$(i).datepicker("getDate"),r=$(i).data(ko.datetimeUtil.ACCESSOR_NAME)();t=ko.datetimeUtil.restoreDate(t,r());r(t)};ko.datetime.updateDate=function(n,t){ko.datetime.updateDateTime(n,t)};ko.datetime.updateTime=function(n,t){ko.datetime.updateDateTime(n,t,!0)};ko.datetime.updateDateTime=function(n,t,i){var r=$(n).datepicker("getDate");i&&(r=ko.datetimeUtil.restoreDate(r,t));r-t!=0&&($(n).datepicker("disable"),$(n).datepicker("setDate",t),$(n).datepicker("enable"))};ko.datetime.dispose=function(n,t){ko.datetimeUtil.dispose(n,t,function(){$(n).datepicker("destroy")})};
/*
//# sourceMappingURL=sw-ko-datetime.min.js.map
*/