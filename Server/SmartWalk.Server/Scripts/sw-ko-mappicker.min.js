ko.bindingHandlers.mappicker={init:function(n,t,i){var u=i().settings||{},r;$(n).data(ko.mapUtil.ACCESSOR_NAME,t);r=ko.mapUtil.getClassByType(u.type);r.init(n,u);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){r.dispose(n)})},update:function(n,t,i){var r=i().settings||{},u=ko.utils.unwrapObservable(t()),f=ko.mapUtil.getClassByType(r.type);f.setData(n,u)}};ko.mapUtil={};ko.mapUtil.ACCESSOR_NAME="coordinatesVA";ko.mapUtil.MAP_OBJECT="mapPickerObject";ko.mapUtil.getClassByType=function(n){return!n||n=="leaflet"?ko.leafLetMap:ko.googleMap};ko.mapUtil.dispose=function(n,t){t&&t();$(n).data(ko.mapUtil.MAP_OBJECT,null);$(n).data(ko.mapUtil.ACCESSOR_NAME,null)};ko.leafLetMap={};ko.leafLetMap.init=function(n,t){L.Icon.Default.imagePath=t.imagePath;var r=$(n).data(ko.mapUtil.ACCESSOR_NAME)()(),i=L.map(n).setView(r,t.zoomLevel);L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{detectRetina:!0}).addTo(i);i.on("click",function(t){$(n).data(ko.mapUtil.ACCESSOR_NAME)()(t.latlng)});$(n).data(ko.mapUtil.MAP_OBJECT,i)};ko.leafLetMap.dispose=function(n){ko.mapUtil.dispose(n,function(){$(n).data(ko.mapUtil.MAP_OBJECT).remove()})};ko.leafLetMap.setData=function(n,t){$(n).data(ko.mapUtil.MAP_OBJECT).setView(t)};ko.googleMap={};ko.googleMap.init=function(n,t){var r=$(n).data(ko.mapUtil.ACCESSOR_NAME)()(),i=new google.maps.Map(n,{backgroundColor:"#B4D1FF",zoom:t.zoomLevel,center:ko.googleMap.toGoogleLatLng(r),mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1}),u=new google.maps.Marker({position:ko.googleMap.toGoogleLatLng(r),map:i,title:"Current address"});google.maps.event.addListener(i,"click",function(t){$(n).data(ko.mapUtil.ACCESSOR_NAME)()(ko.googleMap.toSWLatLng(t.latLng));u.setPosition(t.latLng)});$(n).data(ko.mapUtil.MAP_OBJECT,i)};ko.googleMap.dispose=function(n){ko.mapUtil.dispose(n,function(){delete $(n).data(ko.mapUtil.MAP_OBJECT)})};ko.googleMap.setData=function(n,t){$(n).data(ko.mapUtil.MAP_OBJECT).setCenter(ko.googleMap.toGoogleLatLng(t))};ko.googleMap.toSWLatLng=function(n){return{lat:n.lat(),lng:n.lng()}};ko.googleMap.toGoogleLatLng=function(n){return n?new google.maps.LatLng(n.lat,n.lng):new google.maps.LatLng(0,0)};
/*
//# sourceMappingURL=sw-ko-mappicker.min.js.map
*/